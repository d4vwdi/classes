<!DOCTYPE html>
<html>
<head>
    <title>Cadastro de Conta</title>
</head>
<body>
    <h1>Cadastro de Conta</h1>
    <form id="cadastro-form">
        <label for="plano">Selecione o Plano:</label>
        <input type="radio" name="plano" value="Beauty"> Beauty
        <input type="radio" name="plano" value="Health"> Health
        <input type="radio" name="plano" value="Tech"> Tech

        <br>

        <label for="saldo">Saldo:</label>
        <input type="text" name="saldo">

        <br>

        <input type="submit" value="Cadastrar Conta">
    </form>

    <script>
        // JavaScript para lidar com o envio do formulÃ¡rio
        document.getElementById('cadastro-form').addEventListener('submit', function (e) {
            e.preventDefault();

            const selectedPlano = document.querySelector('input[name="plano"]:checked');
            const saldo = document.querySelector('input[name="saldo"]').value;

            if (selectedPlano && saldo) {
                // Enviar os dados para o Spring Boot
                const data = {
                    plano: selectedPlano.value,
                    saldo: saldo
                };

                fetch('/cadastrar-conta', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                })
                .then(response => {
                    if (response.ok) {
                        alert('Conta cadastrada com sucesso!');
                    } else {
                        alert('Ocorreu um erro ao cadastrar a conta.');
                    }
                });
            } else {
                alert('Por favor, selecione um plano e insira o saldo.');
            }
        });
    </script>
</body>
</html>
